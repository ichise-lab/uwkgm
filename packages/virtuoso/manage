#!/bin/bash

source bin/libs/args
source bin/libs/inputs
source packages/virtuoso/bin/install
source packages/virtuoso/bin/run
source packages/virtuoso/package

packages.virtuoso.manage() {
    rm -r -f packages/virtuoso/temp

    while true;
    do
        CHOICES=(
            "Run"
            "Install"
            "Import graph data"
        )

        VALUES=(
            run
            install
            import
        )

        echo "[UWKGM: INFO] OpenLink Virtuoso Community Edition version $UWKGM_PKG_VIRTUOSO_VERSION"

        args.pull OPERATION
        inputs.choices OPERATION "Virtuoso Operation" "Choose operation for Virtuoso" "run" "$OPERATION" "${CHOICES[@]}" "${VALUES[@]}"

        if [[ $OPERATION == "run" ]]; then
            packages.virtuoso.run
        elif [[ $OPERATION == "install" ]]; then
            packages.virtuoso.install
        elif [[ $OPERATION == "import" ]]; then
            packages.virtuoso.import
        elif [[ $OPERATION == "cancel" ]]; then
            rm -r -f packages/virtuoso/temp
            return
        fi
    done
}